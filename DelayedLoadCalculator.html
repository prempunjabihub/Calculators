<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Strategy Simulator</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Custom scrollbar hiding for cleaner look if needed */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons (Inline SVGs to remove external dependency) ---
        const IconWrapper = ({ children, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const TrendingUp = (props) => <IconWrapper {...props}><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></IconWrapper>;
        const Car = (props) => <IconWrapper {...props}><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><circle cx="17" cy="17" r="2"/></IconWrapper>;
        const PiggyBank = (props) => <IconWrapper {...props}><path d="M19 5c-1.5 0-2.8.6-3.8 1.5l-2.5 2.5"/><path d="M2 20.9C2 21.5 2.5 22 3.1 22h1.8c.6 0 1.1-.4 1.3-1l.6-3.4c.1-.4.4-.7.8-.7h8.8c.4 0 .7.3.8.7l.6 3.4c.2.6.7 1 1.3 1h1.8c.6 0 1.1-.5 1.1-1.1V17c.6 0 1.1-.5 1.1-1.1V8.5c0-.6-.4-1.1-1-1.1-.6 0-1.1.5-1.1 1.1V9c-1.5-1.4-3.7-2-5.9-1.8C6.9 7.4 3 11.2 3 16v4.9z"/><path d="M16 5h2a2 2 0 0 1 2 2v2"/><line x1="8" y1="13" x2="8" y2="13"/><line x1="9" y1="17" x2="9" y2="17"/></IconWrapper>;
        const AlertTriangle = (props) => <IconWrapper {...props}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></IconWrapper>;
        const Settings = (props) => <IconWrapper {...props}><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.39a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></IconWrapper>;
        const Moon = (props) => <IconWrapper {...props}><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></IconWrapper>;
        const Sun = (props) => <IconWrapper {...props}><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></IconWrapper>;
        const Info = (props) => <IconWrapper {...props}><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></IconWrapper>;
        const ChevronDown = (props) => <IconWrapper {...props}><polyline points="6 9 12 15 18 9"/></IconWrapper>;
        const ChevronUp = (props) => <IconWrapper {...props}><polyline points="18 15 12 9 6 15"/></IconWrapper>;


        // --- Main Component ---
        const CarStrategyCalculator = () => {
          // --- State ---
          const [isDarkMode, setIsDarkMode] = useState(false);
          const [showSettings, setShowSettings] = useState(true); // Toggle for mobile accordion

          const [inputs, setInputs] = useState({
            initialCapital: 200000,
            targetCarPrice: 1000000,
            loanInterest: 8,
            sipReturn: 12,
            inflation: 5,
            beaterMaintenance: 2000,
            resaleValuePct: 40,
            cycleYears: 5,
            totalCycles: 4,
            maintenanceFirstCycleOnly: true
          });

          const [results, setResults] = useState([]);
          const [summary, setSummary] = useState(null);

          // --- Theme Classes ---
          const theme = {
            bg: isDarkMode ? 'bg-slate-900' : 'bg-gray-50',
            card: isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-slate-200',
            text: isDarkMode ? 'text-slate-100' : 'text-slate-800',
            subText: isDarkMode ? 'text-slate-400' : 'text-slate-500',
            input: isDarkMode ? 'bg-slate-900 border-slate-600 text-white focus:ring-indigo-500' : 'bg-white border-slate-300 text-slate-900 focus:ring-indigo-500',
            accentRaw: isDarkMode ? 'bg-indigo-600' : 'bg-indigo-600',
            tableHeader: isDarkMode ? 'bg-slate-700 text-slate-300' : 'bg-slate-100 text-slate-600',
            tableRowHover: isDarkMode ? 'hover:bg-slate-750' : 'hover:bg-slate-50',
            divider: isDarkMode ? 'border-slate-700' : 'border-slate-100',
          };

          // --- Calculations ---
          useEffect(() => {
            calculateStrategy();
          }, [inputs]);

          const calculatePMT = (rate, nper, pv) => {
            if (rate === 0) return pv / nper;
            const r = rate / 1200;
            const n = nper * 12;
            return (pv * r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
          };

          const calculateStrategy = () => {
            let timeline = [];
            let currentCarPrice = inputs.targetCarPrice;
            
            // Person A State
            let personACash = 0; 
            
            // Person B State
            let personBLoan = currentCarPrice - inputs.initialCapital;

            for (let cycle = 1; cycle <= inputs.totalCycles; cycle++) {
              const isFirstCycle = cycle === 1;
              const yearsElapsed = cycle * inputs.cycleYears;

              // 1. Determine Person B's EMI
              const emiB = calculatePMT(inputs.loanInterest, inputs.cycleYears, personBLoan);
              
              // 2. Determine Person A's Investment
              let maintenanceCost = 0;
              if (inputs.maintenanceFirstCycleOnly) {
                maintenanceCost = isFirstCycle ? inputs.beaterMaintenance : 0;
              } else {
                maintenanceCost = inputs.beaterMaintenance;
              }

              let monthlyInvestA = emiB - maintenanceCost;
              if (monthlyInvestA < 0) monthlyInvestA = 0;

              // 3. Grow Person A's Wealth
              const r_monthly = inputs.sipReturn / 1200;
              const n_months = inputs.cycleYears * 12;
              
              // A. SIP Growth
              const sipFutureValue = monthlyInvestA * ((Math.pow(1 + r_monthly, n_months) - 1) / r_monthly) * (1 + r_monthly);
              
              // B. Lump Sum Growth (Surplus from previous cycle)
              // Double Check: We only grow positive cash. If previous cycle ended in shortfall (0 cash), this adds 0.
              const cashGrowth = personACash > 0 ? personACash * Math.pow(1 + inputs.sipReturn / 100, inputs.cycleYears) : 0;
              
              let totalLiquidCashA = sipFutureValue + cashGrowth;

              // 4. End of Cycle Asset Values
              const resaleValueB = currentCarPrice * (inputs.resaleValuePct / 100);
              
              let resaleValueA;
              if (isFirstCycle) {
                resaleValueA = inputs.initialCapital * 0.10; // Scrap value
              } else {
                resaleValueA = currentCarPrice * (inputs.resaleValuePct / 100);
              }

              const netWorthB_EndCycle = resaleValueB; 
              const netWorthA_EndCycle = totalLiquidCashA + resaleValueA;

              // 5. Upgrade Event
              const nextCarPrice = currentCarPrice * Math.pow(1 + inputs.inflation / 100, inputs.cycleYears);

              // Person B Action
              const bDownPayment = resaleValueB;
              const bNewLoanAmount = nextCarPrice - bDownPayment;

              // Person A Action
              const totalResourcesA = totalLiquidCashA + resaleValueA;
              const aCashAfterPurchase = totalResourcesA - nextCarPrice;

              // --- "No Loan" Logic ---
              // If aCashAfterPurchase is negative, it means a Shortfall.
              // Person A pays this out of pocket (Reset to 0 for next cycle).
              const shortfall = aCashAfterPurchase < 0 ? Math.abs(aCashAfterPurchase) : 0;
              const surplus = aCashAfterPurchase > 0 ? aCashAfterPurchase : 0;

              timeline.push({
                cycle: cycle,
                year: yearsElapsed,
                carPriceNext: Math.round(nextCarPrice),
                emi: Math.round(emiB),
                maintenanceDeducted: Math.round(maintenanceCost),
                investA: Math.round(monthlyInvestA),
                netWorthA: Math.round(netWorthA_EndCycle),
                netWorthB: Math.round(netWorthB_EndCycle),
                cashInHandA: Math.round(aCashAfterPurchase),
                surplus: Math.round(surplus),
                shortfall: Math.round(shortfall),
                debtB: Math.round(bNewLoanAmount),
                wealthGap: Math.round(netWorthA_EndCycle - netWorthB_EndCycle)
              });

              // Setup for next loop
              personACash = surplus; 
              personBLoan = bNewLoanAmount;     
              currentCarPrice = nextCarPrice;   
            }

            setResults(timeline);
            const final = timeline[timeline.length - 1];
            setSummary({
              aCash: final.cashInHandA,
              bDebt: final.debtB,
              gap: final.wealthGap,
              totalYears: inputs.cycleYears * inputs.totalCycles
            });
          };

          const handleInputChange = (e) => {
            const { name, value, type, checked } = e.target;
            setInputs(prev => ({
              ...prev,
              [name]: type === 'checkbox' ? checked : (parseFloat(value) || 0)
            }));
          };

          const formatCurrency = (val) => {
            const absVal = Math.abs(val);
            const formatted = new Intl.NumberFormat('en-IN', {
              style: 'currency',
              currency: 'INR',
              maximumFractionDigits: 0
            }).format(absVal);
            return val < 0 ? `-${formatted}` : formatted;
          };

          return (
            <div className={`min-h-screen font-sans transition-colors duration-300 ${theme.bg} ${theme.text}`}>
              
              {/* Header / Nav */}
              <div className={`${isDarkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-slate-200'} border-b px-4 py-3 sticky top-0 z-20 flex justify-between items-center shadow-sm`}>
                <div className="flex items-center gap-2">
                  <TrendingUp className="text-indigo-500" />
                  <h1 className="font-bold text-lg md:text-xl">Car Strategy Simulator</h1>
                </div>
                <button 
                  onClick={() => setIsDarkMode(!isDarkMode)}
                  className={`p-2 rounded-full ${isDarkMode ? 'bg-slate-700 text-yellow-400' : 'bg-slate-100 text-slate-600'}`}
                >
                  {isDarkMode ? <Sun size={20} /> : <Moon size={20} />}
                </button>
              </div>

              <div className="max-w-7xl mx-auto p-4 flex flex-col lg:flex-row gap-6">
                
                {/* SETTINGS PANEL (Collapsible on Mobile) */}
                <div className={`lg:w-1/3 flex-shrink-0`}>
                  <div className={`rounded-xl shadow-lg border overflow-hidden ${theme.card}`}>
                    <button 
                      onClick={() => setShowSettings(!showSettings)}
                      className="w-full px-6 py-4 flex justify-between items-center font-bold text-lg lg:cursor-default"
                    >
                      <div className="flex items-center gap-2">
                        <Settings size={20} className="text-indigo-500" />
                        <span>Configuration</span>
                      </div>
                      <span className="lg:hidden text-slate-400">
                        {showSettings ? <ChevronUp /> : <ChevronDown />}
                      </span>
                    </button>
                    
                    {/* Form Content */}
                    <div className={`${showSettings ? 'block' : 'hidden'} lg:block px-6 pb-6 space-y-6`}>
                      
                      {/* Basics */}
                      <div className="space-y-3">
                        <label className={`text-xs font-bold uppercase ${theme.subText} tracking-wider`}>Starting Values</label>
                        <div>
                          <label className="block text-sm font-medium mb-1">Target Car Price (Today)</label>
                          <div className="relative">
                            <span className={`absolute left-3 top-2.5 ${theme.subText}`}>₹</span>
                            <input 
                              type="number" name="targetCarPrice" value={inputs.targetCarPrice} onChange={handleInputChange}
                              className={`w-full pl-8 pr-3 py-2 rounded border outline-none focus:ring-2 ${theme.input}`}
                            />
                          </div>
                        </div>
                        <div>
                          <label className="block text-sm font-medium mb-1">Initial Capital</label>
                          <div className="relative">
                            <span className={`absolute left-3 top-2.5 ${theme.subText}`}>₹</span>
                            <input 
                              type="number" name="initialCapital" value={inputs.initialCapital} onChange={handleInputChange}
                              className={`w-full pl-8 pr-3 py-2 rounded border outline-none focus:ring-2 ${theme.input}`}
                            />
                          </div>
                        </div>
                      </div>

                      <div className={`border-t ${theme.divider}`}></div>

                      {/* Rates */}
                      <div className="space-y-3">
                        <label className={`text-xs font-bold uppercase ${theme.subText} tracking-wider`}>Rates</label>
                        <div className="grid grid-cols-2 gap-4">
                          <div>
                            <label className="block text-sm font-medium mb-1">Loan Interest (%)</label>
                            <input 
                              type="number" name="loanInterest" value={inputs.loanInterest} onChange={handleInputChange}
                              className={`w-full px-3 py-2 rounded border outline-none focus:ring-2 ${theme.input}`}
                            />
                          </div>
                          <div>
                            <label className="block text-sm font-medium mb-1">SIP Return (%)</label>
                            <input 
                              type="number" name="sipReturn" value={inputs.sipReturn} onChange={handleInputChange}
                              className={`w-full px-3 py-2 rounded border outline-none focus:ring-2 ${theme.input}`}
                            />
                          </div>
                          <div>
                            <label className="block text-sm font-medium mb-1">Inflation (%)</label>
                            <input 
                              type="number" name="inflation" value={inputs.inflation} onChange={handleInputChange}
                              className={`w-full px-3 py-2 rounded border outline-none focus:ring-2 ${theme.input}`}
                            />
                          </div>
                          <div>
                            <label className="block text-sm font-medium mb-1">Cycle (Years)</label>
                            <input 
                              type="number" name="cycleYears" value={inputs.cycleYears} onChange={handleInputChange}
                              className={`w-full px-3 py-2 rounded border outline-none focus:ring-2 ${theme.input}`}
                            />
                          </div>
                        </div>
                      </div>

                      <div className={`border-t ${theme.divider}`}></div>

                      {/* Maintenance */}
                      <div className={`p-4 rounded-lg border ${isDarkMode ? 'bg-orange-900/20 border-orange-800' : 'bg-orange-50 border-orange-100'}`}>
                        <label className="text-xs font-bold text-orange-500 uppercase flex items-center gap-1 mb-2">
                          <AlertTriangle size={12} /> Maintenance Drag
                        </label>
                        <div>
                          <label className="block text-sm font-medium mb-1">Monthly Repair Cost</label>
                          <div className="relative">
                            <span className={`absolute left-3 top-2.5 ${theme.subText}`}>₹</span>
                            <input 
                              type="number" name="beaterMaintenance" value={inputs.beaterMaintenance} onChange={handleInputChange}
                              className={`w-full pl-8 pr-3 py-2 rounded border outline-none focus:ring-2 ${theme.input} ${isDarkMode ? 'border-orange-800' : 'border-orange-200'}`}
                            />
                          </div>
                        </div>
                        <div className="mt-3 flex items-center gap-2">
                          <input 
                            type="checkbox" id="maintenanceFirstCycleOnly" name="maintenanceFirstCycleOnly"
                            checked={inputs.maintenanceFirstCycleOnly} onChange={handleInputChange}
                            className="w-4 h-4 text-orange-600 rounded focus:ring-orange-500"
                          />
                          <label htmlFor="maintenanceFirstCycleOnly" className={`text-xs ${theme.subText}`}>
                            Cycle 1 only (Beater Phase)
                          </label>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>

                {/* RESULTS PANEL */}
                <div className="lg:w-2/3 flex flex-col gap-6">
                  
                  {/* Summary Cards */}
                  {summary && (
                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                      {/* Person A */}
                      <div className="bg-emerald-600 text-white p-5 rounded-xl shadow-lg relative overflow-hidden">
                        <div className="absolute right-0 top-0 opacity-10 transform translate-x-4 -translate-y-4">
                          <PiggyBank size={100} />
                        </div>
                        <div className="relative z-10">
                          <h3 className="text-emerald-100 font-semibold mb-1 text-sm uppercase tracking-wide">Person A (Investor)</h3>
                          <div className="flex flex-col gap-0.5 mt-2">
                            <span className="text-xs text-emerald-200">Surplus Cash (Year {summary.totalYears})</span>
                            <span className="text-2xl md:text-3xl font-bold">{formatCurrency(summary.aCash > 0 ? summary.aCash : 0)}</span>
                          </div>
                          {summary.aCash < 0 && (
                             <div className="mt-2 bg-black/20 p-2 rounded text-xs text-emerald-100 flex items-start gap-2">
                               <AlertTriangle size={14} className="mt-0.5 text-yellow-300"/>
                               <span>Finished with a shortfall. Investment was too low to match inflation.</span>
                             </div>
                          )}
                        </div>
                      </div>

                      {/* Person B */}
                      <div className="bg-rose-600 text-white p-5 rounded-xl shadow-lg relative overflow-hidden">
                        <div className="absolute right-0 top-0 opacity-10 transform translate-x-4 -translate-y-4">
                          <Car size={100} />
                        </div>
                        <div className="relative z-10">
                          <h3 className="text-rose-100 font-semibold mb-1 text-sm uppercase tracking-wide">Person B (Borrower)</h3>
                          <div className="flex flex-col gap-0.5 mt-2">
                            <span className="text-xs text-rose-200">Total Debt (Year {summary.totalYears})</span>
                            <span className="text-2xl md:text-3xl font-bold">{formatCurrency(summary.bDebt)}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}

                  {/* Timeline Table */}
                  <div className={`rounded-xl shadow-lg border overflow-hidden ${theme.card}`}>
                    <div className={`p-4 border-b ${theme.divider} ${isDarkMode ? 'bg-slate-800' : 'bg-slate-50'} flex flex-col sm:flex-row justify-between sm:items-center gap-2`}>
                      <h3 className="font-bold">Timeline</h3>
                      <div className="flex gap-2">
                        <span className={`text-xs px-2 py-1 rounded ${isDarkMode ? 'bg-slate-700' : 'bg-slate-200'}`}>Inflation: {inputs.inflation}%</span>
                        <span className={`text-xs px-2 py-1 rounded ${isDarkMode ? 'bg-slate-700' : 'bg-slate-200'}`}>Cycles: {inputs.totalCycles}</span>
                      </div>
                    </div>
                    
                    <div className="overflow-x-auto">
                      <table className="w-full text-sm text-left whitespace-nowrap">
                        <thead className={`uppercase text-xs ${theme.tableHeader}`}>
                          <tr>
                            <th className="px-4 py-3">Cycle</th>
                            <th className="px-4 py-3 text-right">Car Price</th>
                            <th className="px-4 py-3 text-right">B: New Loan</th>
                            <th className="px-4 py-3 text-right">A: Invested</th>
                            <th className="px-4 py-3 text-right">A: Surplus/Shortfall</th>
                          </tr>
                        </thead>
                        <tbody className={`divide-y ${theme.divider}`}>
                          {results.map((row, index) => (
                            <tr key={index} className={`${theme.tableRowHover} transition-colors`}>
                              <td className="px-4 py-3">
                                <div className="font-bold">Year {row.year}</div>
                                <div className={`text-xs ${theme.subText}`}>Cycle {row.cycle} End</div>
                              </td>
                              <td className="px-4 py-3 text-right">
                                <div className="font-medium">{formatCurrency(row.carPriceNext)}</div>
                              </td>
                              
                              {/* B Column */}
                              <td className="px-4 py-3 text-right">
                                <div className="text-rose-500 font-bold">{formatCurrency(row.debtB)}</div>
                                <div className={`text-xs ${theme.subText}`}>EMI: {formatCurrency(row.emi)}</div>
                              </td>

                              {/* A Column */}
                              <td className="px-4 py-3 text-right">
                                <div className="text-emerald-500 font-medium">{formatCurrency(row.investA)}<span className="text-xs opacity-70">/mo</span></div>
                                {row.maintenanceDeducted > 0 && (
                                  <div className="text-xs text-orange-500 flex justify-end items-center gap-1">
                                    -{formatCurrency(row.maintenanceDeducted)} repairs
                                  </div>
                                )}
                              </td>

                              {/* Result Column */}
                              <td className="px-4 py-3 text-right">
                                 {row.shortfall > 0 ? (
                                   <div className="flex flex-col items-end">
                                     <span className="text-red-500 font-bold">-{formatCurrency(row.shortfall)}</span>
                                     <span className="text-[10px] text-red-400 uppercase tracking-wide">Shortfall (Paid Cash)</span>
                                   </div>
                                 ) : (
                                   <div className="flex flex-col items-end">
                                     <span className="text-emerald-600 font-bold">+{formatCurrency(row.surplus)}</span>
                                     <span className="text-[10px] text-emerald-500 uppercase tracking-wide">Surplus Reinvested</span>
                                   </div>
                                 )}
                              </td>
                            </tr>
                          ))}
                        </tbody>
                      </table>
                    </div>
                  </div>

                  {/* Logic Explanation Box */}
                  <div className={`p-4 rounded-lg border text-sm flex gap-3 ${isDarkMode ? 'bg-blue-900/20 border-blue-800 text-blue-200' : 'bg-blue-50 border-blue-100 text-blue-800'}`}>
                    <Info className="flex-shrink-0 mt-0.5" size={18} />
                    <div className="space-y-2">
                      <p className="font-bold">Math Double-Check:</p>
                      <ul className="list-disc pl-4 opacity-90 space-y-1">
                        <li>
                          <strong>Surplus Calculation:</strong> (SIP Value + Previous Cycle Surplus Growth + Trade-in Value) - New Car Price.
                        </li>
                        <li>
                          <strong>Surplus Reinvestment:</strong> If Person A has a surplus, it is invested as a Lump Sum for the next cycle. 
                          <span className="italic"> (We checked: No double counting occurs.)</span>
                        </li>
                        <li>
                          <strong>Shortfall Handling:</strong> If Person A has a shortfall (negative balance), we assume they pay the difference out-of-pocket to avoid taking a loan. The next cycle starts with ₹0 cash.
                        </li>
                      </ul>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CarStrategyCalculator />);
    </script>
</body>
</html>

